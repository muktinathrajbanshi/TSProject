{"mappings":"AAAA,IAAA,AAAK,8BAAA;;;;WAAA;EAAA;AAYL,MAAM,SAAsB;IAC1B,OAAO;IACP,YAAY;IACZ,WAAW;AACb;AAEA,eAAe;AACf,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,WAAW,SAAS,aAAa,CAAC;AACxC,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,WAAW,SAAS,cAAc,CAAC;AACzC,MAAM,cAAc,SAAS,cAAc,CAAC;AAC5C,MAAM,cAAc,SAAS,cAAc,CAAC;AAE5C,IAAI;AACJ,IAAI,WAAmB,OAAO,KAAK;AACnC,IAAI,QAAuB;AAC3B,IAAI,WAAmB,OAAO,aAAa,OAAO,CAAC,gBAAgB;AAEnE,YAAY,SAAS,GAAG,OAAO;AAE/B,SAAS,WAAW,OAAe;IACjC,MAAM,MAAM,KAAK,KAAK,CAAC,UAAU;IACjC,MAAM,MAAM,UAAU;IACtB,OAAO,GAAG,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAE,KAAK,CAAC,EAAE,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAE,MAAM;AAC9E;AAEA,SAAS;IACP,SAAS,SAAS,GAAG,WAAW;IAChC,SAAS,SAAS,GAAG;AACvB;AAEA,SAAS;IACP,IAAG,kBAAoB;QACrB;QACA,aAAa,OAAO,CAAC,YAAY,OAAO;QACxC,YAAY,SAAS,GAAG,OAAO;QAE/B,IAAG,WAAW,MAAM,GAAE;YACpB;YACA,WAAW,OAAO,SAAS;QAC7B,OAAO;YACL;YACA,WAAW,OAAO,UAAU;QAC9B;IACF,OAAO;QACL;QACA,WAAW,OAAO,KAAK;IACzB;AACF;AAEA,SAAS;IACP,IAAG,UAAU,MAAM;IAEnB,QAAQ,OAAO,WAAW,CAAC;QACzB;QACA;QAEA,IAAG,YAAY,GAAE;YACf,cAAc;YACd,QAAQ;YACR;YACA;YACA;QACF;IACF,GAAG;AACL;AAEA,SAAS;IACP,IAAG,OAAM;QACP,cAAc;QACd,QAAQ;IACV;AACF;AAEA,SAAS;IACP;IACA;IACA,WAAW,OAAO,KAAK;IACvB;AACF;AAEA,QAAQ;AACR,YAAY,gBAAgB,CAAC,SAAS;IACpC,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;AACjC;AAEA,SAAS;AACT,SAAS,gBAAgB,CAAC,SAAS;AACnC,SAAS,gBAAgB,CAAC,SAAS;AACnC,SAAS,gBAAgB,CAAC,SAAS;AAEnC,OAAO;AACP","sources":["src/index.ts"],"sourcesContent":["enum Mode {\r\n  Focus = \"FOCUS\",\r\n  ShortBreak = \"SHORT BREAK\",\r\n  LongBreak = \"LONG BREAK\"\r\n}\r\n\r\ninterface TimerConfig {\r\n  focus: number;\r\n  shortBreak: number;\r\n  longBreak: number;\r\n}\r\n\r\nconst config: TimerConfig = {\r\n  focus: 25 * 60,\r\n  shortBreak: 5 * 60,\r\n  longBreak: 15 * 60\r\n};\r\n\r\n// DOM Elements\r\nconst timeElem = document.getElementById(\"time\") as HTMLElement;\r\nconst modeElem = document.querySelector(\".mode\") as HTMLElement;\r\nconst startBtn = document.getElementById(\"start\") as HTMLButtonElement;\r\nconst pauseBtn = document.getElementById(\"pause\") as HTMLButtonElement;\r\nconst resetBtn = document.getElementById(\"reset\") as HTMLButtonElement;\r\nconst sessionElem = document.getElementById(\"sessions\") as HTMLElement;\r\nconst themeToggle = document.getElementById(\"themeToggle\") as HTMLButtonElement;\r\n\r\nlet mode: Mode = Mode.Focus;\r\nlet timeLeft: number = config.focus;\r\nlet timer: number | null = null;\r\nlet sessions: number = Number(localStorage.getItem(\"sessions\")) || 0;\r\n\r\nsessionElem.innerText = String(sessions);\r\n\r\nfunction formatTime(seconds: number): string {\r\n  const min = Math.floor(seconds / 60);\r\n  const sec = seconds % 60;\r\n  return `${min.toString().padStart(2,\"0\")}:${sec.toString().padStart(2,\"0\")}`;\r\n}\r\n\r\nfunction updateUI(): void {\r\n  timeElem.innerText = formatTime(timeLeft);\r\n  modeElem.innerText = mode;\r\n}\r\n\r\nfunction switchMode(): void {\r\n  if(mode === Mode.Focus){\r\n    sessions++;\r\n    localStorage.setItem(\"sessions\", String(sessions));\r\n    sessionElem.innerText = String(sessions);\r\n\r\n    if(sessions % 4 === 0){\r\n      mode = Mode.LongBreak;\r\n      timeLeft = config.longBreak;\r\n    } else {\r\n      mode = Mode.ShortBreak;\r\n      timeLeft = config.shortBreak;\r\n    }\r\n  } else {\r\n    mode = Mode.Focus;\r\n    timeLeft = config.focus;\r\n  }\r\n}\r\n\r\nfunction startTimer(): void {\r\n  if(timer !== null) return;\r\n\r\n  timer = window.setInterval(() => {\r\n    timeLeft--;\r\n    updateUI();\r\n\r\n    if(timeLeft <= 0){\r\n      clearInterval(timer!);\r\n      timer = null;\r\n      switchMode();\r\n      updateUI();\r\n      startTimer();\r\n    }\r\n  }, 1000);\r\n}\r\n\r\nfunction pauseTimer(): void {\r\n  if(timer){\r\n    clearInterval(timer);\r\n    timer = null;\r\n  }\r\n}\r\n\r\nfunction resetTimer(): void {\r\n  pauseTimer();\r\n  mode = Mode.Focus;\r\n  timeLeft = config.focus;\r\n  updateUI();\r\n}\r\n\r\n// Theme\r\nthemeToggle.addEventListener(\"click\", () => {\r\n  document.body.classList.toggle(\"light\");\r\n});\r\n\r\n// Events\r\nstartBtn.addEventListener(\"click\", startTimer);\r\npauseBtn.addEventListener(\"click\", pauseTimer);\r\nresetBtn.addEventListener(\"click\", resetTimer);\r\n\r\n// Init\r\nupdateUI();"],"names":[],"version":3,"file":"parcel_ts.377278e2.js.map","sourceRoot":"/__parcel_source_root/"}